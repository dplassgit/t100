5000 CLS:DEFINTC:FI$="a3+3":CU=1:EC$=CHR$(143)
5010 PRINT@(0),FI$EC$SPACE$(38-LEN(FI$));:PRINT@(CU-1),CHR$(27)"p"MID$(FI$+EC$,CU,1)CHR$(27)"q
5020 IK$=INKEY$:IFIK$=""THEN5020
5030 AK=ASC(IK$):IFAK<32ORAK=127THEN5050
5040 FI$=LEFT$(FI$,CU-1)+IK$+MID$(FI$,CU):CU=CU+1:GOTO5010
5050 IFAK=13THENPRINTFI$:STOP
5060 CU=CU-(AK=28)+(AK=29):IFAK=127THENFI$=LEFT$(FI$,CU-1)+MID$(FI$,CU+1):GOTO5010
5070 IFCU>1ANDAK=8THENFI$=LEFT$(FI$,CU-2)+MID$(FI$,CU):CU=CU-1:GOTO5010
5080 IFAK=17ORCU<1THENCU=1ELSEIFAK=18ORCU>LEN(FI$)THENCU=LEN(FI$)+1
5090 GOTO5010
